<!DOCTYPE html>

<html>

<head>
	<title> bataille navale</title>
	<meta charset="UTF-8">
	<!--<link rel="stylesheet" href="styleaccueil.css"> -->

	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"> </script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular-route.min.js" ></script>
	
	<script>
	angular.module("Batnav",["ngRoute"])
		
		.config(function($routeProvider) {
				
				$routeProvider
					.when ("/" , {
						templateUrl: "Views/listejeux.html",
						controller : "ListeController"
					})
					
					.when ("/toto", {
						templateUrl: "Views/formulairejeux.html",
						controller : "GameController"
					})
					.otherwise({
						redirectTo :"/"
					})
					
		})

		.controller("GameController", function(GameService){
		
			gamectrl = this;

			gamectrl.listbateau = [
				{value:1 , label: "1 bateau"},
				{value:2 , label: "2 bateaux"},
				{value:3 , label: "3 bateaux"},
			];

			gamectrl.games = [];

			gamectrl.addGame = function (form){
				if (form.$invalid) return
				var clone=angular.copy(gamectrl.game)
				gamectrl.games.push(clone)

				GameService.saveGame(clone)
					//.then (&location.path ="/")
					// ici mettre le  : / pour revenir Ã  la liste
				} 
	
		})

		.controller("ListeController", function(GameService){

			lstctrl=this;

			GameService.getAll()
				.then (function(games) {
					lstctrl.games=games
				});
		})

	</script>

	<script src="Services/GameService.js"></script>

</head>



<body ng-app="Batnav">
	
	<div ng-view></div>

	<footer>
	</footer>
</body>
</html>